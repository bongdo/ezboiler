(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[444],{2183:(e,t,r)=>{Promise.resolve().then(r.bind(r,2356))},2356:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var o=r(5155),a=r(1584);function n(e){let{product:t}=e,{addItem:r}=(0,a._)();return(0,o.jsx)("button",{onClick:()=>r(t),className:"bg-primary hover:bg-rose-700 text-white font-bold py-3 px-8 rounded-full transition w-full md:w-auto",children:"Добавить в корзину"})}},1584:(e,t,r)=>{"use strict";r.d(t,{_:()=>c,e:()=>i});var o=r(5155),a=r(2115);let n=(0,a.createContext)(void 0);function i(e){let{children:t}=e,[r,i]=(0,a.useState)([]);(0,a.useEffect)(()=>{let e=localStorage.getItem("cart");if(e)try{i(JSON.parse(e))}catch(e){console.error("Failed to parse cart",e)}},[]),(0,a.useEffect)(()=>{localStorage.setItem("cart",JSON.stringify(r))},[r]);let c=r.reduce((e,t)=>e+t.price*t.quantity,0);return(0,o.jsx)(n.Provider,{value:{items:r,addItem:e=>{i(t=>t.find(t=>t.vendor_code===e.vendor_code)?t.map(t=>t.vendor_code===e.vendor_code?{...t,quantity:t.quantity+1}:t):[...t,{...e,quantity:1}])},removeItem:e=>{i(t=>t.filter(t=>t.vendor_code!==e))},clearCart:()=>i([]),total:c},children:t})}function c(){let e=(0,a.useContext)(n);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,517,358],()=>t(2183)),_N_E=e.O()}]);